{"filter":false,"title":"main.tf","tooltip":"/module/load_balancer/main.tf","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":40,"column":1},"action":"insert","lines":["# Create a new load balancer","resource \"aws_lb\" \"pub_sub_alb\" {","  name            = var.pub_sub_alb_name","  subnets         = [var.pub_sub1_id, var.pub_sub2_id]","  security_groups = [var.alb_sg_id]","","  tags = {","    Name = var.pub_sub_alb_tag","  }","}","","# Create a target group for the load balancer","resource \"aws_lb_target_group\" \"alb_tg\" {","  name     = var.target_group_name","  port     = var.tg_port","  protocol = var.tg_protocol","  vpc_id   = var.vpc_id","","  # Set the health check configuration for the target group","  health_check {","    interval = var.alb_hc_interval","    path     = var.alb_hc_path","    port     = var.alb_hc_port","    timeout  = var.alb_hc_timeout","    protocol = var.alb_hc_protocol","    matcher  = var.alb_hc_matcher","  }","}","","# Create ALB listener","resource \"aws_lb_listener\" \"alb_listener\" {","  load_balancer_arn = aws_lb.pub_sub_alb.arn","  port              = var.alb_listener_port","  protocol          = var.alb_listener_protocol","","  # Set the default action for the listener","  default_action {","    type             = \"forward\"","    target_group_arn = aws_lb_target_group.alb_tg.arn","  }","}"],"id":1}]]},"ace":{"folds":[],"scrolltop":157,"scrollleft":0,"selection":{"start":{"row":40,"column":1},"end":{"row":40,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":10,"state":"start","mode":"ace/mode/terraform"}},"timestamp":1700255477651,"hash":"85d49d5dc053e7b41e14979601c3c36eea748b78"}